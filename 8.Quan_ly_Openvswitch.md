# 1. Quản lý OpenVSwitch

- Để sử dụng và quản lý tính năng của OpenVSwitch ta cần cài đặt các gói: `openvswitch-switch` và `openvswitch-common`.

- **Openvswitch commnand**

| Command | Usage
| ------- | --------------------
| ovs-vsctl init | Khởi tạo database 
| ovs-vsctl show | Hiển thị nội dung có trong database

- **Bridge command**

| Command | Usage
| ------- | --------------------
| ovs-vsctl add-br [namebr] | Tạo một bridge 
| ovs-vsctl del-br [namebr] | Xóa một bridge (Xóa hết cả fake bridge và port trên nó)
| ovs-vsctl add-br [namebr][parent-bridge][vlanid] | Tạo một bridge hỗ trợ VLAN
| ovs-vsctl br-to-vlan [namebr] | Kiểm tra vlanid của bridge 
| ovs-vsctl br-to-parent [namebr] | Hiển thị parent bridge của bridge
| ovs-vsctl list-br | Liệt kê các real và fake bridge

- **Port Command**

| Command | Usage
| ------- | --------
| ovs-vsctl list-ports [namebr] | Liệt kê tất cả các port của br
| ovs-vsctl add-port [namebr] [PORT] | Tạo trên bridge một port mới
| ovs-vsctl add-bond [namebr] [PORT] iface... | Tạo trên bridge một port mới mà bond các interface liệt kê sau đó lại với nhau
| ovs-vsctl del-port [namebr] [PORT] | Xóa port
| ovs-vsctl port-to-br [PORT] | Hiển thị thông tin của bridge chứa tên PORT

- **Interface Command**

| Command | Usage
| ------- | -------------
| ovs-vsctl list-ifaces [namebr] | Liệt kê interface trong bridge
| ovs-vsctl iface-to-br [nameif] | Hiển thị thông tin của bridge chứa tên interface 

- **Database Command**

  Là các câu lệnh truy vẫn và modify các nội dung trong các bảng của `ovsdb`.Một số table trong `ovsdb`:

<ul>
  <ul>
    <li>  Open_Vswitch: Thông tin cấu hình cho ovs-vswitchd. Table này chỉ có duy nhất một bản ghi.
    <li>  Bridge: Thông tin cấu hình cho một bridge trong Open Vswitch.
    <li>  Port: Thông tin về các port.
    <li>  Interface: Thông tin về các interface của các thiết bị mạng được gán với port.
  </ul>
</ul>

  Và một số table khác: **Flow_Table, QoS, Queue, Mirror, Controller, Manager, NetFlow, SSL, sFlow, IPFIX, Flow_Sample_Collector_Set, AutoAttach.**
  
| Command | Usage
| ------- | -----------
| ovs-vsctl list [table][record] | Hiển thị nội dung record (Khóa tìm kiếm) trong table.
| ovs-vsctl find [table][column[:key]=value] | Tìm kiếm dữ liệu trong bảng.
| ovs-vsctl get [table][record][column[:key]] | Hiển thị nội dung theo từng cột của record.
| ovs-vsctl set [table][record][column[:key]] | Thay đổi nội dung của record trong table.
| ovs-vsctl add [table][record][column[:key]=value] | Thêm một nội dung của record vào trong table.
| ovs-vsctl remove [table][record][column[:key]=value] | Xóa một nội dung của record vào trong table.
| ovs-vsctl clean [table][record][column[:key]] | Xóa toàn bộ nội dung của record trong table.
| ovs-vsctl create [table][new_record] | Thêm một record mới vào trong table.
| ovs-vsctl destroy [table][record] | Xóa một record trong table.
| ovs-vsctl destroy [table] | Xóa table.









